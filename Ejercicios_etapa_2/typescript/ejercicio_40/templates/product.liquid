<div class="max-w-xl mx-auto p-4">
  <h1 class="text-2xl md:text-3xl font-bold mb-2">{{ product.title }}</h1>
  <p class="text-gray-700 mb-1">ID: {{ product.id }}</p>
  <p class="text-gray-700 mb-4">Handle: {{ product.handle }}</p>
  <p class="text-lg font-semibold mb-6">Precio: ${{ product.price | money }}</p>

  <button
    id="add-to-cart-btn"
    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded shadow w-full md:w-auto"
  >
    Añadir al carrito
  </button>
</div>

<script>
  document.getElementById('add-to-cart-btn').addEventListener('click', async () => {
    const response = await fetch('/cart/add', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        id: {{ product.id }},
        quantity: 1
      }),
      credentials: 'include'
    });

    if (response.ok) {
      alert('Producto añadido al carrito');
    } else {
      alert('Hubo un problema al añadir el producto');
    }
  });
</script>
